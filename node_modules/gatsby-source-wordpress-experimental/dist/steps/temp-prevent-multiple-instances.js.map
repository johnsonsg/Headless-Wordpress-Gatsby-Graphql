{"version":3,"sources":["../../src/steps/temp-prevent-multiple-instances.ts"],"names":["isWpSourcePluginInstalled","tempPreventMultipleInstances","reporter","panic","join","useVerboseStyle"],"mappings":";;;;;AACA;;AACA,IAAIA,yBAAyB,GAAG,KAAhC;AAEA;;;;;;AAMO,SAASC,4BAAT,CAAsC;AAC3CC,EAAAA;AAD2C,CAAtC,EAIE;AACP,MAAIF,yBAAJ,EAA+B;AAC7BE,IAAAA,QAAQ,CAACC,KAAT,CACE,wCACE,CACG,mEADH,EAEG,0GAFH,EAGEC,IAHF,CAGQ,MAHR,CADF,EAKE;AAAEC,MAAAA,eAAe,EAAE;AAAnB,KALF,CADF;AASD,GAVD,MAUO;AACLL,IAAAA,yBAAyB,GAAG,IAA5B;AACD;AACF","sourcesContent":["import { Reporter } from \"gatsby\"\nimport { formatLogMessage } from \"../utils/format-log-message\"\nlet isWpSourcePluginInstalled = false\n\n/**\n * Temporarily break the build when a user defines multiple source configs for the plugin\n * See https://github.com/gatsbyjs/gatsby-source-wordpress-experimental/issues/251\n * @param {Reporter} reporter\n */\n\nexport function tempPreventMultipleInstances({\n  reporter,\n}: {\n  reporter: Reporter\n}): void {\n  if (isWpSourcePluginInstalled) {\n    reporter.panic(\n      formatLogMessage(\n        [\n          `Multiple instances of this plugin aren't currently supported yet.`,\n          `Follow this issue for updates https://github.com/gatsbyjs/gatsby-source-wordpress-experimental/issues/58`,\n        ].join(`\\n\\n`),\n        { useVerboseStyle: true }\n      )\n    )\n  } else {\n    isWpSourcePluginInstalled = true\n  }\n}\n"],"file":"temp-prevent-multiple-instances.js"}